<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd 
http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/context
	http://www.springframework.org/schema/context/spring-context.xsd">

    <bean id="abstractFeedMoxyXmlFeature" class="org.glassfish.jersey.moxy.xml.MoxyXmlFeature" abstract="true">
      <constructor-arg index="0">
        <map>
          <entry key="eclipselink.media-type">
            <value>application/xml</value>
          </entry>
        </map>
      </constructor-arg>
      <constructor-arg type="java.lang.ClassLoader" index="1">
        <null />
      </constructor-arg>
      <constructor-arg type="boolean" value="false" index="2"/>
      <constructor-arg index="3">
        <list>
          <value>io.delimeat.feed.domain.FeedResult</value>
          <value>io.delimeat.feed.domain.FeedSearch</value>
        </list>
      </constructor-arg>  		
    </bean>

    <bean id="abstractFeedJerseyClientFactory" class="io.delimeat.util.jaxrs.client.JerseyClientFactory" abstract="true">
      <property name="providerClasses">
        <list>
          <value>io.delimeat.feed.jaxrs.ReplaceContentTypeResponseFilter</value>
        </list>
      </property>
      <property name="properties">
        <map>
          <entry key="jersey.config.client.connectTimeout">
            <value>2000</value>
          </entry>
          <entry key="jersey.config.client.readTimeout">
            <value>5000</value>
          </entry>
        </map>
      </property>
    </bean>
    

    <!--
    <import resource="feed-kat-context.xml" />
    !-->
    <import resource="feed-torrentproject-context.xml" />
    <import resource="feed-extratorrent-context.xml" />
    <import resource="feed-limetorrents-context.xml" />
    <import resource="feed-bitsnoop-context.xml" />
    <import resource="feed-torrentdownloads-context.xml" />
    <import resource="feed-zooqle-context.xml" />
    
    <bean id="feedServiceId" class="io.delimeat.feed.FeedService_Impl">
        <property name="feedDaos">
    		 <list>
    		    <ref bean="extraTorrentGuideDaoId"/>
            	<ref bean="torrentProjectGuideDaoId"/>
            	<ref bean="limeTorrentsGuideDaoId"/>
            	<ref bean="bitSnoopGuideDaoId"/>
            	<ref bean="torrentDownloadsGuideDaoId"/>
            	<ref bean="zooqleGuideDaoId"/>
            	<!--
    		 	<ref bean="katGuideDaoId"/>
    		 	!-->
          </list>
       </property>
    </bean>


</beans>