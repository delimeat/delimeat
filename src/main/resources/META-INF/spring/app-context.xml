<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:context="http://www.springframework.org/schema/context"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:oxm="http://www.springframework.org/schema/oxm"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd 
	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
	http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd 
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd 
	http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm.xsd">
	 
	  
	<import resource="common-context.xml" />
	<import resource="config-context.xml" />
	<import resource="guide-context.xml" />
	<import resource="feed-context.xml" />
	<import resource="show-context.xml" />
	<import resource="torrent-context.xml" />
	<import resource="processor-context.xml" />
	<import resource="services-context.xml" />
	<import resource="cache-context.xml" />
	
	 
	<context:component-scan base-package="io.delimeat.core.service"/>
	
	<aop:aspectj-autoproxy proxy-target-class="true"/>
	
	<bean id="customizableTraceInterceptor" class="org.springframework.aop.interceptor.CustomizableTraceInterceptor">
    	<property name="enterMessage" value="Entering $[methodName]($[arguments])"/>
    	<property name="exitMessage" value="Leaving $[methodName](): $[returnValue]"/>
    	<property name="exceptionMessage" value="Exception $[methodName]($[arguments]): $[exception]"/>
    	<property name="useDynamicLogger" value="true"/>
	</bean>
	
	<aop:config>
	    <aop:advisor advice-ref="customizableTraceInterceptor" pointcut="within(io.delimeat..*)" />
	</aop:config>	

	
</beans>
