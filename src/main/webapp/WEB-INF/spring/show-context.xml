<?xml version="1.0" encoding="utf-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd 
http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">
  
	<bean id="showJpaAdaptorId" class="org.springframework.orm.jpa.vendor.EclipseLinkJpaVendorAdapter">
		<!-- 
   		<property name="databasePlatform" value="org.eclipse.persistence.platform.database.DerbyPlatform" />
   		!-->
   		<property name="showSql" value="true" />
	</bean>

   	<bean id="showDataSourceId" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
		<property name="url" value="${io.delimeat.core.show.url}" />
		<property name="driverClassName" value="${io.delimeat.core.show.driverClassName}" />
	</bean>
	
	<bean id="showEntityManagerFactoryId" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
      <property name="mappingResources" value="META-INF/orm.xml"></property>
      <property name="dataSource" ref="showDataSourceId"/>
      <property name="jpaVendorAdapter" ref="showJpaAdaptorId"/>
      <property name="jpaProperties">
         <props>
         		
                <prop key="eclipselink.weaving">false</prop>
                
                <!-- 
                <prop key="eclipselink.ddl-generation">drop-and-create-tables</prop>
                !-->
                 
				<prop key="eclipselink.ddl-generation">create-or-extend-tables</prop>
        		<prop key="eclipselink.ddl-generation.output-mode">database</prop>

        		<prop key="eclipselink.logging.level">OFF</prop>

        		<!-- 
				<prop key="eclipselink.logging.level">ALL</prop>
				<prop key="eclipselink.logging.thread">true</prop>
				<prop key="eclipselink.logging.session">true</prop>
				<prop key="eclipselink.logging.timestamp">true</prop>
				<prop key="eclipselink.logging.exceptions">true"</prop>
				!-->
         </props>
      </property>
   </bean>
 
   <bean id="showTransactionManagerId" class="org.springframework.orm.jpa.JpaTransactionManager">
      <property name="entityManagerFactory" ref="showEntityManagerFactoryId" />
   </bean>
   
   <tx:annotation-driven transaction-manager="showTransactionManagerId"/>
 
   <bean id="persistenceExceptionTranslationPostProcessor"
      class="org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor" />

	<bean id="showDaoId" class="io.delimeat.core.show.ShowJpaDao_Impl"/>
</beans>
